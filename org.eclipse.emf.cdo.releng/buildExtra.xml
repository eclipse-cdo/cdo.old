<project default="run" name="Project's .releng buildExtra.xml">

	<typedef name="featurefileset" classname="org.eclipse.dash.common.releng.FeatureFileSet">
		<classpath path="${basedir}/lib/ant-featurefileset.jar" />
	</typedef>

	<target name="init">
	</target>

	<target name="run">
	</target>

	<target name="extraPackaging">
		<unzip src="${buildDirectory}/${buildLabel}/${allZip}"
		       dest="${buildDirectory}/${buildLabel}/extra.packaging.tmp" />

		<for param="extraPackagingProperties">
			<path>
				<fileset dir="${buildDirectory}/${buildLabel}/eclipse/features"
				         includes="*/extraPackaging.properties" />
			</path>
			<sequential>
				<var file="@{extraPackagingProperties" />
				<zip destfile="${buildDirectory}/${buildLabel}/@{zip.prefix}-${buildAlias}.zip">
					<featurefileset dir="${buildDirectory}/${buildLabel}/extra.packaging.tmp"
					                featureID="@{feature.id}" />
				</zip>
			</sequential>
		</for>
	</target>

</project>
